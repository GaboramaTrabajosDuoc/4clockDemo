VISION 1:

Claro, Sergio. AquÃ­ tienes una **radiografÃ­a funcional y tecnolÃ³gica** de tu aplicaciÃ³n *4clockApp* basada en todo lo que hemos trabajado:

---

## ğŸ§  **Funcionalidad de la AplicaciÃ³n**

### ğŸ¯ **Objetivo central**

Una app hÃ­brida (web/mÃ³vil) que permite organizar y personalizar tareas, rutinas y dÃ­as de la semana, con flexibilidad total para adaptarse al flujo de vida del usuario (personal o profesional).

---

### ğŸ§© **Pantallas y mÃ³dulos clave**

#### âœ… **TaskScreen (nÃºcleo del MVP)**

* **Crear tareas** desde un botÃ³n flotante/modal
* **Editar tareas** (desde el mismo modal u opciÃ³n extendida)
* **Completar tareas** (con confirmaciÃ³n)
* **Eliminar tareas** (con confirmaciÃ³n)
* **Expandir tareas** con doble clic para ver descripciÃ³n larga y mÃ¡s acciones
* **BotÃ³n de rutina**: convierte una tarea en conjunto de subtareas (rutina)
* **Ordenamiento**:

  1. Por prioridad
  2. Por fecha
  3. Por orden asignado por el usuario
  4. Guardar el orden como â€œdÃ­aâ€

#### ğŸ§± **Otros mÃ³dulos en roadmap**

* **HabitMaker**:

  * Crear hÃ¡bitos agrupando tareas
  * Ver progreso por hÃ¡bito
  * Crear rutinas desde hÃ¡bitos
* **Calendario**:

  * Ver tareas por dÃ­a/semana/mes
  * Asignar tareas a fechas
  * Drag and drop entre dÃ­as
* **Workshop (modal central)**:

  * EdiciÃ³n global de tareas, rutinas y dÃ­as
  * Accesible desde distintos lugares

---

## âš™ï¸ **TecnologÃ­a usada**

### ğŸ§‘â€ğŸ’» **Frontend**

* **React Native** (Expo)
* **Expo Router** para navegaciÃ³n tipo file-based
* **Tailwind CSS** (con NativeWind)
* **React Navigation** (por debajo de Expo Router)
* **React Native Modal** para UI emergente

### ğŸ—„ï¸ **Backend**

* **Supabase**

  * PostgreSQL como base de datos
  * Realtime (opcional)
  * AutenticaciÃ³n (a futuro)
  * REST API autogenerada
* **Tabla activa**: `Task`

  * `id`, `title`, `description`, `priority`, `completed`, `number`, etc.

---

## ğŸ§ª Estado actual del MVP

* Modal funcional de creaciÃ³n de tareas
* DiseÃ±o modular en componentes (`Header`, `Footer`, `TaskItem`, etc.)
* Supabase integrado pero aÃºn **no guarda tareas con Ã©xito** (estamos depurando ese insert)
* DiseÃ±o pensado para escalar con orden lÃ³gico y separaciones claras (`src/screens`, `src/items`, `src/props`, etc.)

# ğŸ—‚ï¸ Estructura de Base de Datos â€“ Task Organizer App

## ğŸ‘¤ `User`

Usuario autenticado de Supabase. Cada entidad principal pertenece a un usuario.

| Campo        | Tipo      | DescripciÃ³n                  |
| ------------ | --------- | ---------------------------- |
| `id`         | UUID      | ID del usuario (`auth.uid`)  |
| `email`      | Text      | Email del usuario            |
| `nickname`   | Text      | Apodo del usuario (opcional) |
| `created_at` | Timestamp | Fecha de creaciÃ³n            |
| `updated_at` | Timestamp | Ãšltima actualizaciÃ³n         |

---

## ğŸ§± `Habit_category`

CategorÃ­as para agrupar tareas y hÃ¡bitos por Ã¡reas de enfoque (salud, trabajo, etc.).

| Campo        | Tipo      | DescripciÃ³n             |
| ------------ | --------- | ----------------------- |
| `id`         | BIGINT    | Clave primaria          |
| `name`       | Text      | Nombre de la categorÃ­a  |
| `purpose`    | Text      | DescripciÃ³n opcional    |
| `icon`       | Text      | Nombre o emoji de Ã­cono |
| `color`      | Text      | Color en hex o nombre   |
| `created_at` | Timestamp | Fecha de creaciÃ³n       |
| `updated_at` | Timestamp | Ãšltima modificaciÃ³n     |

---

## ğŸ” `Habit`

PuntÃºa el progreso del usuario en base a las tareas realizadas.

| Campo          | Tipo | DescripciÃ³n                      |
| -------------- | ---- | -------------------------------- |
| `id`           | UUID | Clave primaria                   |
| `title`        | Text | TÃ­tulo del hÃ¡bito                |
| `porpouse`     | Text | DescripciÃ³n opcional             |
| `priority`     | Enum | Must, Should, Could, Would, None |
| `habit_points` | Int  | Puntos acumulados                |
| `user_id`      | UUID | FK a `User`                      |

---

## âœ… `Task`

Unidad mÃ­nima de acciÃ³n. Puede pertenecer a una rutina y/o hÃ¡bito.

| Campo               | Tipo      | DescripciÃ³n                            |
| ------------------- | --------- | -------------------------------------- |
| `id`                | BIGINT    | Clave primaria                         |
| `title`             | Text      | TÃ­tulo de la tarea                     |
| `description`       | Text      | DescripciÃ³n opcional                   |
| `priority`          | Enum      | Must, Should, Could, Would, None       |
| `habit_category_id` | BIGINT    | FK a `Habit_category`                  |
| `completed`         | Boolean   | Tarea completada o no                  |
| `completed_at`      | Timestamp | Fecha de completado                    |
| `list_pos`          | Int       | PosiciÃ³n en la lista general           |
| `habit_id`          | UUID      | FK a `Habit`                           |
| `habit_list_pos`    | Int       | PosiciÃ³n dentro del hÃ¡bito (si aplica) |
| `user_id`           | UUID      | FK a `User`                            |

---

## ğŸ”ƒ `Routine`

Agrupa tareas que se ejecutan juntas, como bloques reutilizables.

| Campo               | Tipo      | DescripciÃ³n                 |
| ------------------- | --------- | --------------------------- |
| `id`                | UUID      | Clave primaria              |
| `title`             | Text      | TÃ­tulo de la rutina         |
| `description`       | Text      | DescripciÃ³n opcional        |
| `priority`          | Enum      | Prioridad asignada          |
| `habit_category_id` | BIGINT    | FK a `Habit_category`       |
| `completed`         | Boolean   | Estado de completado        |
| `task_id`           | BIGINT    | Obsoleto (puede eliminarse) |
| `task_list_pos`     | Int       | Obsoleto (puede eliminarse) |
| `created_at`        | Timestamp | Fecha de creaciÃ³n           |
| `updated_at`        | Timestamp | Ãšltima modificaciÃ³n         |
| `user_id`           | UUID      | FK a `User`                 |

---

## â±ï¸ `Session`

Agrupa rutinas para organizar bloques de trabajo (maÃ±ana, tarde, noche).

| Campo          | Tipo      | DescripciÃ³n                  |
| -------------- | --------- | ---------------------------- |
| `id`           | UUID      | Clave primaria               |
| `title`        | Text      | TÃ­tulo de la sesiÃ³n          |
| `completed`    | Boolean   | Estado completado            |
| `completed_at` | Timestamp | Fecha completado (si aplica) |
| `created_at`   | Timestamp | Fecha de creaciÃ³n            |
| `updated_at`   | Timestamp | Ãšltima modificaciÃ³n          |
| `user_id`      | UUID      | FK a `User`                  |

---

## ğŸ“¦ Relaciones intermedias

### `Routine_Task`

Vincula tareas dentro de una rutina con orden.

| Campo        | Tipo   | DescripciÃ³n        |
| ------------ | ------ | ------------------ |
| `id`         | UUID   | Clave primaria     |
| `routine_id` | UUID   | FK a `Routine`     |
| `task_id`    | BIGINT | FK a `Task`        |
| `position`   | Int    | Orden en la rutina |

---

### `Routine_Session`

Vincula rutinas dentro de una sesiÃ³n con orden.

| Campo        | Tipo | DescripciÃ³n        |
| ------------ | ---- | ------------------ |
| `id`         | UUID | Clave primaria     |
| `routine_id` | UUID | FK a `Routine`     |
| `session_id` | UUID | FK a `Session`     |
| `position`   | Int  | Orden en la sesiÃ³n |

---

## ğŸ” Seguridad

* RLS activado en todas las tablas sensibles (`Task`, `Routine`, `Session`, `Habit`)
* Cada fila estÃ¡ asociada a un `user_id`
* PolÃ­ticas: los usuarios solo pueden acceder a sus propios datos (`auth.uid()`)

---Tree de la aplicacion

â”œâ”€ /4clockApp
  |â”€/app
    |â”€layout.tsx
    |â”€html.tsx
    |â”€not-found.tsx
    |â”€index.tsx
  |â”€/assets
    |â”€fonts
    |â”€images
  |â”€/db
    |â”€/queries
      |â”€model.sql
      |â”€rls-policies.sql
  |â”€/lib
    |â”€supabase.ts
  |â”€/public
    |â”€logo.ico
  |â”€/src
    |â”€/api
    |â”€/components
      |â”€/assistant
      |â”€/items
        |â”€footerItem.tsx
        |â”€headerItem.tsx
      |â”€/modals
        |â”€addTask.tsx
        |â”€taskModal.tsx
      |â”€/props
        |â”€/taskProps
          |â”€addTaskProp.tsx
          |â”€progressBar.tsx
          |â”€taslProp.tsx
    |â”€/screens
    |â”€/service
    |â”€/styles
    |â”€/types
      |â”€habit.d.ts
      |â”€task.d.ts
      |â”€user.d.ts
    |â”€/utils
      |-formatter.ts
      |-sorter.ts
